{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","services/pixabay-api.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","findImage","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","s","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","onChange","placeholder","Component","axios","defaults","baseURL","params","key","getSearchedImage","query","a","page","get","response","data","console","log","ImageGalleryItem","webformatURL","tags","onClick","src","alt","ImageGalleryItemImage","Button","onLoad","box","App","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","image","largeImageURL","ImageGallery","images","isLoading","imageIndex","showModal","SmoothScrolling","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","prevProps","prevImg","nextImg","length","then","res","hits","catch","index","message","map","handleClick","id","startScroll","handleFormSubmit","prevState","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1ac23f2d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1LhGR\",\"box\":\"ImageGallery_box__3mtwE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__gMEJ0\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1DUTF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1ERaL\",\"box\":\"Button_box__2xzpa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2C55B\",\"Modal\":\"Modal_Modal__3MOlY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"Loader_box__1Ae4k\"};","import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    findImage: '',\n  };\n\n  handleNameChange = event => {\n    this.setState({ findImage: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.findImage.trim() === '') {\n      toast.error('Enter what to look for');\n      return;\n    }\n\n    this.props.onSubmit(this.state.findImage);\n    this.setState({ findImage: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            onChange={this.handleNameChange}\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\n\nconst API_KEY = '23504459-8998d3c986a45c76e9c9f5239';\naxios.defaults.params = {\n  key: API_KEY,\n};\n\nexport const getSearchedImage = async (query, page = 1) => {\n  try {\n    const response = await axios.get(\n      `/?q=${query}&page=${page}&image_type=photo&orientation=horizontal&per_page=12`,\n    );\n    const data = response.data;\n    return data;\n  } catch (e) {\n    console.log(e);\n  } finally {\n    //\n  }\n};\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ webformatURL, tags, onClick }) => {\n  return (\n    <li className={s.ImageGalleryItem} onClick={onClick}>\n      <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  type: PropTypes.string,\n};\n\nexport default ImageGalleryItem;\n","import s from './Button.module.css';\n\nconst Button = ({ onLoad }) => {\n  return (\n    <div className={s.box}>\n      <button className={s.Button} type=\"button\" onClick={onLoad}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nexport default Button;\n","import { Component } from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './Loader.module.css';\n\nimport Loader from 'react-loader-spinner';\nexport default class App extends Component {\n  render() {\n    return (\n      <div className={s.box}>\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000}\n        />\n      </div>\n    );\n  }\n}\n","import PropTypes from 'prop-types';\nimport { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport class Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img\n            src={this.props.image.largeImageURL}\n            alt={this.props.image.tags}\n          />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import { Component } from 'react';\nimport { getSearchedImage } from '../../services/pixabay-api';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport Button from '../Button';\nimport Loader from '../Loader';\nimport Modal from '../Modal';\nimport s from './ImageGallery.module.css';\n\nexport default class ImageGallery extends Component {\n  state = {\n    images: [],\n    error: null,\n    isLoading: false,\n    imageIndex: null,\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps) {\n    const prevImg = prevProps.findImage;\n    const nextImg = this.props.findImage;\n\n    if (prevImg !== nextImg && this.state.images.length > 0) {\n      this.setState({ images: [] });\n    }\n\n    if (prevImg !== nextImg || prevProps.page !== this.props.page) {\n      this.setState({ isLoading: true });\n      getSearchedImage(nextImg, this.props.page)\n        .then(res =>\n          this.setState(({ images }) => ({\n            images: [...images, ...res.hits],\n            isLoading: false,\n          })),\n        )\n        .then(() => {\n          if (this.props.page !== 1) {\n            this.SmoothScrolling();\n          }\n        })\n        .catch(error => this.setState({ error, isLoading: false }));\n    }\n  }\n\n  SmoothScrolling = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  handleClick(index) {\n    this.setState({ imageIndex: index, showModal: true });\n  }\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const { images, error, isLoading, showModal, imageIndex } = this.state;\n\n    if (isLoading) {\n      return <Loader />;\n    }\n    if (showModal) {\n      return <Modal onClose={this.toggleModal} image={images[imageIndex]} />;\n    }\n    if (error) {\n      return <div className={s.box}>{error.message}</div>;\n    }\n    if (images.length === 0 && !error) {\n      return <div className={s.box}>Start your search</div>;\n    }\n    if (images.length > 0) {\n      return (\n        <>\n          <ul className={s.ImageGallery}>\n            {images.map((image, index) => (\n              <ImageGalleryItem\n                key={image.id}\n                webformatURL={image.webformatURL}\n                type={image.type}\n                onClick={() => {\n                  this.handleClick(index);\n                }}\n              />\n            ))}\n          </ul>\n          <Button onLoad={this.props.onLoad} />\n        </>\n      );\n    }\n  }\n}\n","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\n\nclass App extends Component {\n  state = { findImage: '', page: 1, startScroll: false };\n\n  handleFormSubmit = findImage => {\n    this.setState({ findImage, page: 1 });\n  };\n\n  onLoad = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  render() {\n    const { findImage } = this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery\n          findImage={findImage}\n          onLoad={this.onLoad}\n          page={this.state.page}\n        />\n\n        <ToastContainer />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3sW-5\",\"SearchForm\":\"Searchbar_SearchForm__VGZhs\",\"SearchFormButton\":\"Searchbar_SearchFormButton__bku8V\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2aTKy\",\"SearchFormInput\":\"Searchbar_SearchFormInput__34HiQ\"};"],"sourceRoot":""}